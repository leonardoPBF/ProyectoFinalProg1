@model IEnumerable<ProyectoFinalProg1.Models.Entidades.Municipalidad>

@{
    ViewData["Title"] = "Municipalidad";
    var aceptacion = "";
    var disconformidad ="";

}

    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
     <script type="text/javascript">
    google.charts.load('current', {'packages':['corechart']});
        google.charts.setOnLoadCallback(drawChart);
            function drawChart() {

                            var data = google.visualization.arrayToDataTable([
                            ['conformidad', 'Hours per Day'],         
                            ['Aceptacion', aceptacion],
                            ['Disconformidad', disconformidad ]
                            ]);

                            var chart = new google.visualization.PieChart(document.getElementById('piechart'));
                           
                            chart.draw(data);
                            
                           
                        }
        </script>

<section id="hero" class="d-flex flex-column justify-content-end align-items-center">

 <div id="heroCarousel" data-bs-interval="5000" class="container carousel carousel-fade" data-bs-ride="carousel"><h1>xd</h1></div>

    <svg class="hero-waves" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28 " preserveAspectRatio="none">
      <defs>
        <path id="wave-path" d="M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z">
      </defs>
      <g class="wave1">
        <use xlink:href="#wave-path" x="50" y="3" fill="rgba(255,255,255, .1)">
      </g>
      <g class="wave2">
        <use xlink:href="#wave-path" x="50" y="0" fill="rgba(255,255,255, .2)">
      </g>
      <g class="wave3">
        <use xlink:href="#wave-path" x="50" y="9" fill="#fff">
      </g>
    </svg>

  </section><!-- End Hero -->

<h1 class="text-center py-5">@ViewBag.titulo</h1>
<div class="container">
    <table class="table table-striped table-hover">
        <thead  class="table-dark">
            <tr>
                <th>
                    Nro
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.NombreMunicipalidad)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.Departamento)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.Provincia)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.Distrito)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.Direccion)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.Referencia)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.Aceptacion)
                </th>
                <th></th>
            </tr>
        </thead>
        <tbody>
    @foreach (var item in Model) {
            <tr>
                <td>
                    @Html.DisplayFor(modelItem => item.Id)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.NombreMunicipalidad)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Departamento)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Provincia)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Distrito)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Direccion)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Referencia)
                </td>
                <td>     
                     @Html.DisplayFor(modelItem => item.Aceptacion) 
                     <script>
                        aceptacion = @Html.DisplayFor(modelItem => item.Aceptacion);
                        disconformidad = 100 - aceptacion;
                        data.addRow(['Aceptacion', aceptacion]);
                        data.addRow(['Disconformidad', disconformidad]);
                        var chart = new google.visualization.PieChart(document.getElementById('piechart'));
                        </script>
                     <div id="piechart" style="width: 300px; height: 140px;"></div>                      
                     
                </td>           
            </tr>
    }
        </tbody>
    </table>

</div>
